(window.webpackJsonp=window.webpackJsonp||[]).push([[113],{404:function(a,t,e){"use strict";e.r(t);var s=e(13),r=Object(s.a)({},(function(){var a=this,t=a._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"配置文件管理器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置文件管理器"}},[a._v("#")]),a._v(" 配置文件管理器")]),a._v(" "),t("p",[a._v("配置文件管理器（profile manager）用于处理用户配置文件：它可以用于保存或恢复它。")]),a._v(" "),t("p",[a._v("配置文件管理器是从 "),t("code",[a._v("WebContext")]),a._v(" 实例化的。")]),a._v(" "),t("h2",{attrs:{id:"_1-检索"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-检索"}},[a._v("#")]),a._v(" 1）检索")]),a._v(" "),t("p",[a._v("你可以使用 "),t("code",[a._v("get(readFromSession)")]),a._v(" 方法只返回一个数据，使用 "),t("code",[a._v("getAll(readFromSession)")]),a._v(" 方法检索所有数据。")]),a._v(" "),t("p",[a._v("你需要确定是否要从会话中读取该信息。")]),a._v(" "),t("p",[a._v("返回的数据的类型为 "),t("code",[a._v("UserProfile")]),a._v("，但至少应将其转换为 "),t("code",[a._v("CommonProfile")]),a._v("，以检索所有数据共享的最常见属性，或比如在 Facebook 认证的情况下将其转换成 "),t("code",[a._v("FacebookProfile")]),a._v(" 等真实类型。")]),a._v(" "),t("p",[t("code",[a._v("ProfileManager")]),a._v(" 也可以用配置文件类型实例化，以始终检索特定的用户配置文件类型。")]),a._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("ProfileManager")]),t("span",{pre:!0,attrs:{class:"token generics"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("CasProfile")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v(" manager "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("new")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("ProfileManager")]),t("span",{pre:!0,attrs:{class:"token generics"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("CasProfile")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("webContext"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("CasProfile")]),a._v(" profile "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" manager"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("get")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("true")]),a._v("​​"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("get")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br")])]),t("h2",{attrs:{id:"_2-自定义配置文件管理器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-自定义配置文件管理器"}},[a._v("#")]),a._v(" 2）自定义配置文件管理器")]),a._v(" "),t("p",[a._v("默认情况下，配置文件管理器是 "),t("a",{attrs:{href:"https://github.com/pac4j/pac4j/blob/master/pac4j-core/src/main/java/org/pac4j/core/profile/ProfileManager.java",target:"_blank",rel:"noopener noreferrer"}},[a._v("ProfileMamager"),t("OutboundLink")],1),a._v(" 组件。")]),a._v(" "),t("p",[a._v("在一些 "),t("em",[a._v("pac4j")]),a._v(" 实现中，有特定的配置管理器："),t("code",[a._v("UndertowProfileManager")]),a._v("、"),t("code",[a._v("ShiroProfileManager")]),a._v(" 等。")]),a._v(" "),t("p",[a._v("自定义配置管理器可以通过以下工厂实例化：")]),a._v(" "),t("ul",[t("li",[t("code",[a._v("setProfileManagerFactory(final ProfileManagerFactory factory)")])])]),a._v(" "),t("p",[a._v("它可以设置在组件级别（如逻辑）或 "),t("code",[a._v("Config")]),a._v(" 级别。")]),a._v(" "),t("blockquote",[t("p",[t("a",{attrs:{href:"https://www.pac4j.org/4.5.x/docs/profile-manager.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("原文链接"),t("OutboundLink")],1)])])])}),[],!1,null,null,null);t.default=r.exports}}]);