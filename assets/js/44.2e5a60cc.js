(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{332:function(e,t,a){"use strict";a.r(t);var r=a(13),c=Object(r.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"匹配器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#匹配器"}},[e._v("#")]),e._v(" 匹配器")]),e._v(" "),t("h2",{attrs:{id:"_1-定义"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-定义"}},[e._v("#")]),e._v(" 1）定义")]),e._v(" "),t("p",[e._v("“"),t("RouterLink",{attrs:{to:"/v5.7/security-filter.html"}},[e._v("安全过滤器")]),e._v("”负责保护 URL、请求认证和可选的授权。")],1),e._v(" "),t("p",[e._v("在某些情况下，你可能希望绕过此“安全过滤器”，这可以使用 "),t("strong",[e._v("matcher")]),e._v(" 参数来完成，该参数通常是匹配器名称的列表。匹配器通常在"),t("RouterLink",{attrs:{to:"/v5.7/config.html"}},[e._v("安全配置")]),e._v("中定义。")],1),e._v(" "),t("p",[e._v("匹配器还可以用于始终在 URL 上应用一些逻辑，例如添加一些安全头。")]),e._v(" "),t("h2",{attrs:{id:"_2-可用匹配器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-可用匹配器"}},[e._v("#")]),e._v(" 2）可用匹配器")]),e._v(" "),t("p",[e._v("可以通过实现 "),t("a",{attrs:{href:"https://github.com/pac4j/pac4j/blob/master/pac4j-core/src/main/java/org/pac4j/core/matching/Matcher.java",target:"_blank",rel:"noopener noreferrer"}},[e._v("Matcher"),t("OutboundLink")],1),e._v(" 接口来定义匹配器。它只有一个方法："),t("code",[e._v("boolean matches(WebContext context)")]),e._v(" 来判断是否必须应用“安全过滤器”。")]),e._v(" "),t("p",[e._v("有一些匹配器可用（但您当然可以开发自己的匹配器）：")]),e._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://github.com/pac4j/pac4j/blob/master/pac4j-core/src/main/java/org/pac4j/core/matching/matcher/PathMatcher.java",target:"_blank",rel:"noopener noreferrer"}},[e._v("PathMatcher"),t("OutboundLink")],1),e._v(" 允许你在安全检查中包含/排除某些路径")]),e._v(" "),t("li",[t("a",{attrs:{href:"https://github.com/pac4j/pac4j/blob/master/pac4j-core/src/main/java/org/pac4j/core/matching/matcher/HeaderMatcher.java",target:"_blank",rel:"noopener noreferrer"}},[e._v("HeaderMatcher"),t("OutboundLink")],1),e._v(" 允许你检查给定的头是否为空或是否与正则表达式匹配")]),e._v(" "),t("li",[t("a",{attrs:{href:"https://github.com/pac4j/pac4j/blob/master/pac4j-core/src/main/java/org/pac4j/core/matching/matcher/HttpMethodMatcher.java",target:"_blank",rel:"noopener noreferrer"}},[e._v("HttpMethodMatcher"),t("OutboundLink")],1),e._v(" 允许你检查 HTTP 请求的方法是否是预期的定义方法之一。")])]),e._v(" "),t("h2",{attrs:{id:"_3-默认匹配器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-默认匹配器"}},[e._v("#")]),e._v(" 3）默认匹配器")]),e._v(" "),t("p",[e._v("大多数 "),t("em",[e._v("pac4j")]),e._v(" 实现使用 "),t("em",[e._v("pac4j")]),e._v(" 逻辑和匹配器，因此使用 "),t("a",{attrs:{href:"https://github.com/pac4j/pac4j/blob/master/pac4j-core/src/main/java/org/pac4j/core/matching/checker/DefaultMatchingChecker.java",target:"_blank",rel:"noopener noreferrer"}},[e._v("DefaultMatchingChecker"),t("OutboundLink")],1),e._v(" 组件。在这种情况下，以下匹配器通过以下简短关键字自动可用：")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("get")]),e._v("、"),t("code",[e._v("post")]),e._v("、"),t("code",[e._v("put")]),e._v(" 和 "),t("code",[e._v("delete")]),e._v(" 关键字用于 "),t("code",[e._v("HttpMethodMatcher")]),e._v(" 的相关配置（如果它们还不存在）")]),e._v(" "),t("li",[t("code",[e._v("hsts")]),e._v(" 关键字用于 "),t("code",[e._v("StrictTransportSecurityMatcher")])]),e._v(" "),t("li",[t("code",[e._v("nosniff")]),e._v(" 关键字用于 "),t("code",[e._v("XContentTypeOptionsMatcher")])]),e._v(" "),t("li",[t("code",[e._v("noframe")]),e._v(" 关键字用于 "),t("code",[e._v("XFrameOptionsMatcher")])]),e._v(" "),t("li",[t("code",[e._v("xssprotection")]),e._v(" 关键字用于 "),t("code",[e._v("XSSProtectionMatcher")])]),e._v(" "),t("li",[t("code",[e._v("nocache")]),e._v(" 关键字用于 "),t("code",[e._v("CacheControlMatcher")])]),e._v(" "),t("li",[t("code",[e._v("securityheaders")]),e._v(" 关键字作为 "),t("code",[e._v("hsts")]),e._v("、"),t("code",[e._v("nosniff")]),e._v("、"),t("code",[e._v("noframe")]),e._v("、"),t("code",[e._v("xssprotection")]),e._v("、"),t("code",[e._v("nocache")]),e._v(" 的快捷方式")]),e._v(" "),t("li",[t("code",[e._v("csrfToken")]),e._v(" 关键字用于带有 "),t("code",[e._v("DefaultCsrfTokenGenerator")]),e._v(" 的 "),t("code",[e._v("CsrfTokenGeneratorMatcher")]),e._v("（它生成一个 CSRF 令牌，并将其保存为 "),t("code",[e._v("pac4jCsrfToken")]),e._v(" 请求属性和 "),t("code",[e._v("pac4jFsrfToken")]),e._v(" cookie）")]),e._v(" "),t("li",[t("code",[e._v("allowAjaxRequests")]),e._v(" 关键字用于默认配置的 "),t("code",[e._v("CorsMatcher")]),e._v("，其中 "),t("code",[e._v("Access-Control-Allow-Origin")]),e._v(" 头设置为 "),t("code",[e._v("*")]),e._v("。")]),e._v(" "),t("li",[t("code",[e._v("none")]),e._v(" 关键字用于完全没有匹配器。")])]),e._v(" "),t("p",[e._v("这些短名称在 "),t("a",{attrs:{href:"https://github.com/pac4j/pac4j/blob/master/pac4j-core/src/main/java/org/pac4j/core/matching/matcher/DefaultMatchers.java",target:"_blank",rel:"noopener noreferrer"}},[e._v("DefaultMatchers"),t("OutboundLink")],1),e._v(" 中定义为常量。你可以用同名的自己的匹配器重载它们。")]),e._v(" "),t("blockquote",[t("p",[t("a",{attrs:{href:"https://www.pac4j.org/docs/matchers.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("原文链接"),t("OutboundLink")],1)])])])}),[],!1,null,null,null);t.default=c.exports}}]);