(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{334:function(a,e,t){"use strict";t.r(e);var r=t(13),s=Object(r.a)({},(function(){var a=this,e=a._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("h1",{attrs:{id:"配置文件管理器"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#配置文件管理器"}},[a._v("#")]),a._v(" 配置文件管理器")]),a._v(" "),e("p",[a._v("配置文件管理器（profile manager）用于处理用户配置文件：它可以用于保存或恢复它。")]),a._v(" "),e("p",[a._v("配置文件管理器是从 "),e("code",[a._v("WebContext")]),a._v(" 和 "),e("code",[a._v("SessionStore")]),a._v(" 实例化的。")]),a._v(" "),e("h2",{attrs:{id:"_1-检索"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-检索"}},[a._v("#")]),a._v(" 1）检索")]),a._v(" "),e("p",[a._v("你可以使用 "),e("code",[a._v("getProfile()")]),a._v(" 方法只返回一个数据，使用 "),e("code",[a._v("getProfile()")]),a._v(" 方法检索所有数据。")]),a._v(" "),e("p",[a._v("返回的数据的类型为 "),e("code",[a._v("UserProfile")]),a._v("，但至少应将其转换为 "),e("code",[a._v("CommonProfile")]),a._v("，以检索所有数据共享的最常见属性，或比如在 Facebook 认证的情况下将其转换成 "),e("code",[a._v("FacebookProfile")]),a._v(" 等真实类型。")]),a._v(" "),e("p",[a._v("如果你已经知道用户配置文件的类型，也可以使用 "),e("code",[a._v("getProfile(class)")]),a._v("。")]),a._v(" "),e("div",{staticClass:"language-java line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-java"}},[e("code",[e("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("CasProfile")]),a._v(" profile "),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" manager"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("getProfile")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("CasProfile")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("class")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("get")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("h2",{attrs:{id:"_2-自定义配置文件管理器"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-自定义配置文件管理器"}},[a._v("#")]),a._v(" 2）自定义配置文件管理器")]),a._v(" "),e("p",[a._v("默认情况下，配置文件管理器是 "),e("a",{attrs:{href:"https://github.com/pac4j/pac4j/blob/master/pac4j-core/src/main/java/org/pac4j/core/profile/ProfileManager.java",target:"_blank",rel:"noopener noreferrer"}},[a._v("ProfileMamager"),e("OutboundLink")],1),a._v(" 组件。")]),a._v(" "),e("p",[a._v("在一些 "),e("em",[a._v("pac4j")]),a._v(" 实现中，有特定的配置管理器："),e("code",[a._v("UndertowProfileManager")]),a._v("、"),e("code",[a._v("ShiroProfileManager")]),a._v(" 等。")]),a._v(" "),e("p",[a._v("自定义配置管理器可以通过以下工厂实例化：")]),a._v(" "),e("ul",[e("li",[e("code",[a._v("setProfileManagerFactory(final ProfileManagerFactory factory)")])])]),a._v(" "),e("p",[a._v("它可以设置在组件级别（如逻辑）或 "),e("code",[a._v("Config")]),a._v(" 级别。")]),a._v(" "),e("blockquote",[e("p",[e("a",{attrs:{href:"https://www.pac4j.org/docs/profile-manager.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("原文链接"),e("OutboundLink")],1)])])])}),[],!1,null,null,null);e.default=s.exports}}]);